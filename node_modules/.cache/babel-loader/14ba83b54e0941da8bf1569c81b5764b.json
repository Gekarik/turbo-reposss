{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Wh1t3_D3m0n\\\\Downloads\\\\notes\\\\notes\\\\src\\\\pages\\\\keep-page\\\\KeepPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport st from \"./KeepPage.module.css\";\nimport Keep from \"./../../components/keep/Keep\";\nimport Wrap from \"../../components/wrapper/Wrap\";\nimport { Button } from \"@blueprintjs/core\";\nimport ButtonWithModal from \"../../components/common/button-with-modal/ButtonWithModal\";\nimport AddKeep from \"../../components/forms/add-keep/AddKeep\";\nimport { getKeep, addKeep, removeKeep } from \"../../api/keep\";\n\nconst KeepPage = () => {\n  _s();\n\n  const [keeps, setKeeps] = useState([{\n    id: 1,\n    idUser: 1,\n    type: \"buy\",\n    title: \"Покупки\",\n    text: \"Купить батон и соль\",\n    color_background: \"blue_back\",\n    color: \"red\"\n  }, {\n    id: 2,\n    idUser: 2,\n    type: \"buy\",\n    title: \"Дела\",\n    text: \"Убрать в комнате, при этом все вещи надо перебрать\",\n    color_background: \"green_back\",\n    color: \"blue\"\n  }, {\n    id: 3,\n    idUser: 1,\n    type: \"buy\",\n    title: \"Книги\",\n    text: \"Прочитать: Слимпер, Технотьма, LearnJS, React для чайников\",\n    color_background: \"white_back\",\n    color: \"green\"\n  }]);\n  const onDelete = useCallback(async id => {\n    try {\n      const res = await removeKeep(id);\n      const filterKeep = keeps.filter(prev => prev.id !== id);\n      setKeeps(filterKeep);\n    } catch (error) {\n      console.log(error);\n    }\n  }, [keeps]);\n  const onCreate = useCallback(async value => {\n    try {\n      await addKeep(value);\n      setKeeps(prev => [...prev, value]);\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n  const loadingKeep = useCallback(async () => {\n    try {\n      const res = await getKeep();\n      setKeeps(prev => [...prev, res.data]);\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n  useEffect(() => {\n    loadingKeep();\n  }, [loadingKeep]);\n  return /*#__PURE__*/_jsxDEV(Wrap, {\n    className: st.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: st.title,\n      children: \"\\u0412\\u0430\\u0448\\u0438 \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0438: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: st.keeps,\n      children: keeps.length > 0 && keeps.map(keep => {\n        return /*#__PURE__*/_jsxDEV(Keep, {\n          keep: keep,\n          onDelete: onDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 20\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonWithModal, {\n      content: ({\n        closeModal\n      }) => /*#__PURE__*/_jsxDEV(AddKeep, {\n        onCreate: onCreate,\n        onCancel: closeModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this),\n      buttonRenderer: buttonProps => /*#__PURE__*/_jsxDEV(Button, {\n        className: st.addKeep,\n        ...buttonProps,\n        intent: \"danger\",\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(KeepPage, \"xPn6opTWF0IW5ltCdCHCCo05JU8=\");\n\n_c = KeepPage;\nexport default KeepPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"KeepPage\");","map":{"version":3,"sources":["C:/Users/Wh1t3_D3m0n/Downloads/notes/notes/src/pages/keep-page/KeepPage.jsx"],"names":["React","useCallback","useEffect","useState","st","Keep","Wrap","Button","ButtonWithModal","AddKeep","getKeep","addKeep","removeKeep","KeepPage","keeps","setKeeps","id","idUser","type","title","text","color_background","color","onDelete","res","filterKeep","filter","prev","error","console","log","onCreate","value","loadingKeep","data","container","length","map","keep","closeModal","buttonProps"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport st from \"./KeepPage.module.css\";\r\nimport Keep from \"./../../components/keep/Keep\";\r\nimport Wrap from \"../../components/wrapper/Wrap\";\r\nimport { Button } from \"@blueprintjs/core\";\r\nimport ButtonWithModal from \"../../components/common/button-with-modal/ButtonWithModal\";\r\nimport AddKeep from \"../../components/forms/add-keep/AddKeep\";\r\nimport { getKeep, addKeep, removeKeep } from \"../../api/keep\";\r\n\r\nconst KeepPage = () => {\r\n  const [keeps, setKeeps] = useState([\r\n    {\r\n      id: 1,\r\n      idUser: 1,\r\n      type: \"buy\",\r\n      title: \"Покупки\",\r\n      text: \"Купить батон и соль\",\r\n      color_background: \"blue_back\",\r\n      color: \"red\",\r\n    },\r\n    {\r\n      id: 2,\r\n      idUser: 2,\r\n      type: \"buy\",\r\n      title: \"Дела\",\r\n      text: \"Убрать в комнате, при этом все вещи надо перебрать\",\r\n      color_background: \"green_back\",\r\n      color: \"blue\",\r\n    },\r\n    {\r\n      id: 3,\r\n      idUser: 1,\r\n      type: \"buy\",\r\n      title: \"Книги\",\r\n      text: \"Прочитать: Слимпер, Технотьма, LearnJS, React для чайников\",\r\n      color_background: \"white_back\",\r\n      color: \"green\",\r\n    },\r\n  ]);\r\n\r\n  const onDelete = useCallback(\r\n    async (id) => {\r\n      try {\r\n        const res = await removeKeep(id);\r\n        const filterKeep = keeps.filter((prev) => prev.id !== id);\r\n        setKeeps(filterKeep);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    [keeps]\r\n  );\r\n\r\n  const onCreate = useCallback(async (value) => {\r\n    try {\r\n      await addKeep(value);\r\n      setKeeps((prev) => [...prev, value]);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  const loadingKeep = useCallback(async () => {\r\n    try {\r\n      const res = await getKeep();\r\n      setKeeps((prev) => [...prev, res.data]);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadingKeep();\r\n  }, [loadingKeep]);\r\n\r\n  return (\r\n    <Wrap className={st.container}>\r\n      <div className={st.title}>Ваши заметки: </div>\r\n      <div className={st.keeps}>\r\n        {keeps.length > 0 &&\r\n          keeps.map((keep) => {\r\n            return <Keep keep={keep} onDelete={onDelete} />;\r\n          })}\r\n      </div>\r\n      <ButtonWithModal\r\n        content={({ closeModal }) => (\r\n          <AddKeep onCreate={onCreate} onCancel={closeModal} />\r\n        )}\r\n        buttonRenderer={(buttonProps) => (\r\n          <Button className={st.addKeep} {...buttonProps} intent=\"danger\">\r\n            +\r\n          </Button>\r\n        )}\r\n      />\r\n    </Wrap>\r\n  );\r\n};\r\n\r\nexport default KeepPage;\r\n"]},"metadata":{},"sourceType":"module"}